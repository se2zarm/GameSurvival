<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if keyboard_check(ord('F')){
    balpha -= 0.05
}else{
    balpha += 0.05
}

balpha = clamp(balpha,0.1,1)
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="5">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>for(i=0; i&lt;rw; i++){
    for(j=0; j&lt;rh; j++){
        ds_map_destroy(World[i,j])
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>globalvar World, c, rw, rh, grid, blockid, blocksel;
var i, j, q, v;

blocksel = 0

for(i=0; i&lt;sprite_get_number(s_item)-1; i++){
    blockid[i] = ds_map_create()
}

q =

grid = 0
balpha = 1
c = 16

rw = floor(room_width/c)
rh = floor(room_height/c)

room_width = rw*c
room_height = rh*c


randomize()

for(i=0; i&lt;rw; i++){
    for(j=0; j&lt;rh; j++){
        q = ds_map_create() 
        q[? "lsid"] = b_grass
        q[? "struct"] = -1
        World[i, j] = q
    }
}

repeat(irandom_range(12,26)){
    i = irandom(rw-1)
    j = irandom(rh-1)
    q = World[i,j]
    q[? "lsid"] = b_sand
    World[i,j] = q
}

repeat(irandom_range(7,13)){
    i = irandom(rw-1)
    j = irandom(rh-1)
    q = World[i,j]
    q[? "lsid"] = b_water
    World[i,j] = q
}

repeat(4){
    grow(b_sand, 10, 1.1)
    grow(b_water, 8, 1.05)
}

for(i=0; i&lt;rw; i++){
    for(j=0; j&lt;rh; j++){
        q = World[i,j]
        if q[? "lsid"] == b_sand &amp;&amp; ch(6){
            q[? "struct"] = s_struct1
        }
        World[i,j] = q
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="73">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var i, j, q, vx, vy, vw, vh;
var vx2, vy2;
vx = view_xview
vy = view_yview
vw = vx+view_wview
vh = vy+view_hview

draw_set_alpha(balpha)
for(i=0; i&lt;vw; i+=16){
    for(j=0; j&lt;vh; j+=16){
        if point_in_rectangle(i,j,vx-16,vy-16,vw,vh){
            q = ds_map_find_value(World[i/16,j/16],"struct")
            if (q &gt; -1){
                if balpha&lt;0.15{
                    draw_set_alpha(0.75)
                    draw_set_colour(c_red)
                    draw_rectangle(i,j,i+16,j+16,1)
                    draw_set_alpha(balpha)
                }
                draw_sprite(q, 0, i, j)
                
            }
        }
    }
}

if grid{
    draw_set_colour(c_black)
    draw_set_alpha(0.25)
    
    for(i=0; i&lt;vw; i+=16){
        draw_line_width(i,0,i,vh,2)
    }
    
    for(j=0; j&lt;vh; j+=16){
        draw_line_width(0,j,vw,j,2)
    }
}
draw_set_alpha(1)

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var i, j, q, vx, vy, vw, vh;
var vx2, vy2;
vx = view_xview
vy = view_yview
vw = vx+view_wview
vh = vy+view_hview

vx2 = o_hero.x - view_wview/2 - 256
vy2 = o_hero.y - view_hview/2 - 256
/*
vx /= 16
vy /= 16
vw /= 16
vh /= 16
*/
for(i=0; i&lt;vw; i+=16){
    for(j=0; j&lt;vh; j+=16){
        if point_in_rectangle(i,j,vx-16,vy-16,vw,vh){
            q = ds_map_find_value(World[i/16,j/16],"lsid")
            draw_background(q, i, j)
        }
    }
}

draw_set_colour(c_red)
draw_text(vx+200,vy+200,fps)
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="90">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>grid = !grid
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="82">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>game_restart()
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
